{"remainingRequest":"D:\\idea_workspace\\healthy-manager-front\\node_modules\\babel-loader\\lib\\index.js!D:\\idea_workspace\\healthy-manager-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\idea_workspace\\healthy-manager-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\idea_workspace\\healthy-manager-front\\src\\views\\health\\HealthList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\idea_workspace\\healthy-manager-front\\src\\views\\health\\HealthList.vue","mtime":1618386378349},{"path":"D:\\idea_workspace\\healthy-manager-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616656130250},{"path":"D:\\idea_workspace\\healthy-manager-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1616656090222},{"path":"D:\\idea_workspace\\healthy-manager-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616656130250},{"path":"D:\\idea_workspace\\healthy-manager-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1616656132299}],"contextDependencies":[],"result":["import _JSON$stringify from \"D:\\\\idea_workspace\\\\healthy-manager-front\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/json/stringify\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Message from '../../components/messages/index.js';\nimport HealthTable from './HeallthTable';\nimport ImageUpload from '../../components/upload/UploadBase64';\nexport default {\n  name: \"index\",\n  data: function data() {\n    /*const validateString = (rule, value, callback) => {\n      value = value.split(\" \").join(\"\");\n      if (value === '') {\n        callback(new Error('请输入有效值'));\n      } else {\n        callback();\n      }\n    };*/\n    return {\n      showFlag1: false,\n      showFlag2: false,\n      showFlag3: false,\n      showFlag4: false,\n      dialogShowVisible: false,\n      dialogVisible: false,\n      tableData: [],\n      searchData: {\n        pageSize: 10,\n        pageNum: 1,\n        total: 0,\n        clauses: [{\n          column: \"college\",\n          operation: \"like\",\n          value: \"\"\n        }, {\n          column: \"major\",\n          operation: \"like\",\n          value: \"\"\n        }, {\n          column: \"name\",\n          operation: \"like\",\n          value: \"\"\n        }, {\n          column: \"checkYear\",\n          operation: \"like\",\n          value: \"\"\n        }]\n      },\n      checkInfoData: {},\n      disable: true,\n      title: \"添加用户\",\n      userOptions: [],\n\n      /*rules: {\n        checkTime: [\n          {required: true, message: '请选择体检日期', trigger: 'blur'}\n        ],\n        checkYear: [\n          {required: true, message: '请选择学年', trigger: 'blur'}\n        ],\n        userId: [\n          {required: true, message: '请选择学生', trigger: 'blur'}\n        ],\n        college: [\n          {required: true, message: '请输入学院', trigger: 'blur'}\n        ],\n        major: [\n          {required: true, message: '请输入专业', trigger: 'blur'}\n        ],\n        grade: [\n          {required: true, message: '请输入班级', trigger: 'blur'}\n        ],\n        stuNo: [\n          {required: true, message: '请输入学号', trigger: 'blur'}\n        ],\n        name: [\n          {required: true, message: '请输入姓名', trigger: 'blur'}\n        ],\n       },*/\n      checkDataOptions: [{\n        label: \"第一学年\"\n      }, {\n        label: \"第二学年\"\n      }, {\n        label: \"第三学年\"\n      }, {\n        label: \"第四学年\"\n      }]\n    };\n  },\n  components: {\n    HealthTable: HealthTable,\n    ImageUpload: ImageUpload\n  },\n  methods: {\n    handleClose: function handleClose() {\n      this.dialogVisible = false;\n      this.dialogShowVisible = false;\n    },\n    initData: function initData() {\n      var _this = this;\n\n      this.$http.post(\"/checkInfo/page\", this.searchData).then(function (res) {\n        if (res.status === 200) {\n          _this.tableData = res.data.list;\n          _this.searchData.total = res.data.total;\n        }\n      });\n      var roleData = JSON.parse(localStorage.getItem(\"role\"));\n\n      if (roleData.roleName === '五官科医生') {\n        this.showFlag1 = true;\n        this.showFlag2 = false;\n        this.showFlag3 = false;\n        this.showFlag4 = false;\n      } else if (roleData.roleName === '外科医生') {\n        this.showFlag1 = false;\n        this.showFlag2 = true;\n        this.showFlag3 = false;\n        this.showFlag4 = false;\n      } else if (roleData.roleName === '内科医生') {\n        this.showFlag1 = false;\n        this.showFlag2 = false;\n        this.showFlag3 = true;\n        this.showFlag4 = false;\n      } else if (roleData.roleName === '负责医师') {\n        this.showFlag1 = false;\n        this.showFlag2 = false;\n        this.showFlag3 = false;\n        this.showFlag4 = true;\n      } else {\n        this.showFlag1 = true;\n        this.showFlag2 = true;\n        this.showFlag3 = true;\n        this.showFlag4 = true;\n      }\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.searchData.pageSize = val;\n      this.initData();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.searchData.pageNum = val;\n      this.initData();\n    },\n    addUser: function addUser() {\n      this.title = \"添加健康档案\";\n      this.checkInfoData = {};\n      this.dialogVisible = true;\n      this.disable = false;\n    },\n    showRow: function showRow(index, data) {\n      var _this2 = this;\n\n      this.disable = true;\n      this.$http.get(\"/checkInfo/get/\" + data[index].id).then(function (res) {\n        if (res.status === 200) {\n          _this2.checkInfoData = res.data;\n          _this2.dialogShowVisible = true;\n        }\n      });\n    },\n    updateRow: function updateRow(index, data) {\n      var _this3 = this;\n\n      this.title = \"编辑健康档案\";\n      this.disable = false;\n      this.$http.get(\"/checkInfo/get/\" + data[index].id).then(function (res) {\n        if (res.status === 200) {\n          _this3.checkInfoData = res.data;\n          _this3.dialogVisible = true;\n        }\n      });\n    },\n    deleteRow: function deleteRow(index, data) {\n      var _this4 = this;\n\n      Message.confirm(\"是否删除该档案?\").then(function () {\n        _this4.$http.get(\"/checkInfo/delete/\" + data[index].id).then(function (res) {\n          if (res.status === 200) {\n            Message.success(\"操作成功\");\n\n            _this4.initData();\n          }\n        });\n      });\n    },\n    saveData: function saveData() {\n      var _this5 = this;\n\n      if (this.checkInfoData.id == null || this.checkInfoData.id === \"\") {\n        this.$http.post(\"/checkInfo/add\", this.checkInfoData).then(function (res) {\n          if (res.status === 200) {\n            Message.success(\"操作成功\");\n\n            _this5.initData();\n          }\n        });\n      } else {\n        this.$http.post(\"/checkInfo/update\", this.checkInfoData).then(function (res) {\n          if (res.status === 200) {\n            Message.success(\"操作成功\");\n\n            _this5.initData();\n          }\n        });\n      }\n\n      this.dialogVisible = false;\n    },\n    getAllUser: function getAllUser() {\n      var _this6 = this;\n\n      this.$http.get(\"/user/getAllStudent/2\").then(function (res) {\n        if (res.status === 200) {\n          _this6.userOptions = res.data;\n        }\n      });\n    },\n    selectUser: function selectUser() {\n      var _this7 = this;\n\n      var data = this.userOptions.filter(function (value) {\n        return value.id === _this7.checkInfoData.userId;\n      });\n      this.checkInfoData = JSON.parse(_JSON$stringify(data));\n      this.checkInfoData.historyCheck = \"\"; // this.checkInfoData.college = data[0].college;\n      // this.checkInfoData.major = data[0].major;\n      // this.checkInfoData.grade = data[0].grade;\n      // this.checkInfoData.stuNo = data[0].stuNo;\n      // this.checkInfoData.name = data[0].name;\n      // this.checkInfoData.sex = data[0].sex;\n      // this.checkInfoData.birth = data[0].birth;\n      // this.checkInfoData.realAge = data[0].realAge;\n      // this.checkInfoData.cultureLevel = data[0].cultureLevel;\n      // this.checkInfoData.nation = data[0].nation;\n      // this.checkInfoData.occupation = data[0].occupation;\n      // this.checkInfoData.nativePlace = data[0].nativePlace;\n      // this.checkInfoData.presentAddress = data[0].presentAddress;\n      // this.checkInfoData.workPlace = data[0].workPlace;\n      // this.checkInfoData.teacherId = data[0].teacherId;\n      // this.checkInfoData.photo = data[0].photo;\n    },\n    judgeCheckIsExist: function judgeCheckIsExist() {\n      var _this8 = this;\n\n      if (this.checkInfoData.userId === \"\" || this.checkInfoData.userId == null) {\n        this.$message.warning(\"请选择需要添加的学生\");\n      } else if (this.checkInfoData.checkYear === \"\" || this.checkInfoData.checkYear == null) {\n        this.$message.warning(\"请选择需要学年\");\n      } else {\n        this.$http.get(\"/checkInfo/judgeCheckIsExist\", {\n          params: {\n            \"userId\": this.checkInfoData.userId,\n            \"checkYear\": this.checkInfoData.checkYear\n          }\n        }).then(function (res) {\n          if (res.status === 200) {\n            if (res.data === false) {\n              _this8.$message.error(\"该学生此学年体检单已存在，请重新选择学年!\");\n            }\n          }\n        });\n      }\n    },\n    saveSuggestion: function saveSuggestion(data) {\n      var _this9 = this;\n\n      console.log(\"将康建议\", data);\n      this.$http.post(\"/suggestion/add\", data).then(function (res) {\n        if (res.status === 200) {\n          _this9.$message.success(\"留言成功\");\n\n          _this9.dialogShowVisible = false;\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.initData();\n    this.getAllUser();\n  }\n};",{"version":3,"sources":["HealthList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div style=\"display: flex;flex-direction: column;align-items: center\">\r\n    <div style=\"margin: 40px 0\"><h1>健康档案管理</h1></div>\r\n    <el-card style=\"width: 80%\">\r\n      <div style=\"width: 100%;display: flex;flex-direction: row;justify-content: space-around;margin-bottom: 20px\">\r\n        <div>\r\n          <el-select placeholder=\"请选择学年\" clearable v-model=\"searchData.clauses[3].value\" @change=\"initData\">\r\n            <el-option v-for=\"item in checkDataOptions\" :key=\"item.label\" :label=\"item.label\"\r\n                       :value=\"item.label\"></el-option>\r\n          </el-select>\r\n        </div>\r\n        <div>\r\n          <el-input placeholder=\"根据学院筛选\" v-model=\"searchData.clauses[0].value\" @blur=\"initData\">\r\n            <template slot=\"append\">\r\n              <el-button icon=\"el-icon-search\" @click=\"initData\"></el-button>\r\n            </template>\r\n          </el-input>\r\n        </div>\r\n        <div>\r\n          <el-input placeholder=\"根据专业筛选\" v-model=\"searchData.clauses[1].value\" @blur=\"initData\">\r\n            <template slot=\"append\">\r\n              <el-button icon=\"el-icon-search\" @click=\"initData\"></el-button>\r\n            </template>\r\n          </el-input>\r\n        </div>\r\n        <div>\r\n          <el-input placeholder=\"根据姓名筛选\" v-model=\"searchData.clauses[2].value\" @blur=\"initData\">\r\n            <template slot=\"append\">\r\n              <el-button icon=\"el-icon-search\" @click=\"initData\"></el-button>\r\n            </template>\r\n          </el-input>\r\n        </div>\r\n<!--        <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"addUser\">添加健康档案</el-button>-->\r\n      </div>\r\n      <el-table\r\n              :data=\"tableData\"\r\n              style=\"width: 100%;margin-bottom: 20px\">\r\n        <el-table-column\r\n                type=\"index\"\r\n                width=\"50\">\r\n        </el-table-column>\r\n        <el-table-column\r\n                prop=\"checkYear\"\r\n                label=\"学年\"\r\n                width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column\r\n                prop=\"name\"\r\n                label=\"姓名\"\r\n                align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column\r\n                prop=\"stuNo\"\r\n                label=\"学号\"\r\n                width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column\r\n                prop=\"college\"\r\n                align=\"center\"\r\n                label=\"学院\"\r\n                width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column\r\n                prop=\"major\"\r\n                align=\"center\"\r\n                label=\"专业\"\r\n                width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column\r\n                prop=\"grade\"\r\n                label=\"班级\"\r\n                align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column\r\n                fixed=\"right\"\r\n                align=\"center\"\r\n                label=\"操作\"\r\n                width=\"230\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n                    @click.native.prevent=\"showRow(scope.$index, tableData)\"\r\n                    size=\"small\">\r\n              查看\r\n            </el-button>\r\n            <el-button\r\n                    @click.native.prevent=\"updateRow(scope.$index, tableData)\"\r\n                    size=\"small\">\r\n              编辑\r\n            </el-button>\r\n            <el-button\r\n                    @click.native.prevent=\"deleteRow(scope.$index, tableData)\"\r\n                    size=\"small\">\r\n              删除\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div>\r\n        <el-pagination\r\n                style=\"float: left;margin-bottom: 20px\"\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"searchData.pageNum\"\r\n                :page-sizes=\"[10, 15, 20, 30]\"\r\n                :page-size=\"searchData.pageSize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                :total=\"searchData.total\">\r\n        </el-pagination>\r\n      </div>\r\n    </el-card>\r\n    <el-dialog :title=\"title\"\r\n               width=\"80%\"\r\n               :modal=\"false\"\r\n               :before-close=\"handleClose\"\r\n               :visible.sync=\"dialogVisible\">\r\n      <div style=\"width: 100%;display: flex;align-items: center;flex-direction: column\">\r\n        <el-form :model=\"checkInfoData\" ref=\"checkInfoData\" label-width=\"25%\" style=\"width: 90%;\"\r\n                 label-position=\"left\">\r\n          <!--<el-row>\r\n            <el-col :span=\"8\">\r\n              <el-form-item label=\"选择学生\" prop=\"userId\">\r\n                <el-select v-model=\"checkInfoData.userId\" :disabled=\"disable\" :value=\"checkInfoData.userId\"\r\n                           @change=\"selectUser\">\r\n                  <el-option v-for=\"item in userOptions\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"8\">\r\n              <el-form-item label=\"选择学年\" prop=\"checkYear\">\r\n                <el-select v-model=\"checkInfoData.checkYear\" :disabled=\"disable\" :value=\"checkInfoData.checkYear\"\r\n                           @change=\"judgeCheckIsExist\">\r\n                  <el-option v-for=\"item in checkDataOptions\" :key=\"item.label\" :label=\"item.label\"\r\n                             :value=\"item.label\"></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"8\">\r\n              <el-form-item label=\"体检日期\" prop=\"checkTime\">\r\n                <el-date-picker v-model=\"checkInfoData.checkTime\" :disabled=\"disable\"></el-date-picker>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>-->\r\n          <el-alert title=\"学生基本信息\"\r\n                    type=\"success\"\r\n                    :closable=\"false\" style=\"margin-bottom: 10px\"></el-alert>\r\n          <el-row>\r\n            <el-col :span=\"18\">\r\n              <el-row>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item label=\"学院\" prop=\"college\">\r\n                    <el-input :disabled=\"!disable\" v-model=\"checkInfoData.college\" autocomplete=\"off\"></el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item label=\"专业\" prop=\"major\">\r\n                    <el-input :disabled=\"!disable\" v-model=\"checkInfoData.major\" autocomplete=\"off\"></el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item label=\"班级\" prop=\"grade\">\r\n                    <el-input :disabled=\"!disable\" v-model=\"checkInfoData.grade\" autocomplete=\"off\"></el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n              </el-row>\r\n              <el-row>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item label=\"学号\" prop=\"stuNo\">\r\n                    <el-input :disabled=\"!disable\" v-model=\"checkInfoData.stuNo\" autocomplete=\"off\"></el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item label=\"姓名\" prop=\"name\">\r\n                    <el-input v-model=\"checkInfoData.name\" :disabled=\"!disable\" autocomplete=\"off\"></el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item label=\"性别\" prop=\"sex\">\r\n                    <el-radio :disabled=\"!disable\" label=\"男\" v-model=\"checkInfoData.sex\"></el-radio>\r\n                    <el-radio :disabled=\"!disable\" label=\"女\" v-model=\"checkInfoData.sex\"></el-radio>\r\n                  </el-form-item>\r\n                </el-col>\r\n              </el-row>\r\n              <el-row>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item label=\"出生\" prop=\"birth\">\r\n                    <el-date-picker v-model=\"checkInfoData.birth\" :disabled=\"!disable\"></el-date-picker>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item label=\"实际年龄\" prop=\"realAge\">\r\n                    <el-input type=\"number\" v-model=\"checkInfoData.realAge\" :disabled=\"!disable\"></el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item label=\"文化程度\" prop=\"cultureLevel\">\r\n                    <el-input v-model=\"checkInfoData.cultureLevel\" :disabled=\"!disable\"></el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n              </el-row>\r\n              <el-row>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item label=\"民族\" prop=\"nation\">\r\n                    <el-input v-model=\"checkInfoData.nation\" :disabled=\"!disable\"></el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item label=\"职业\" prop=\"occupation\">\r\n                    <el-input v-model=\"checkInfoData.occupation\" :disabled=\"!disable\"></el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item label=\"籍贯\" prop=\"nativePlace\">\r\n                    <el-input v-model=\"checkInfoData.nativePlace\" :disabled=\"!disable\"></el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n              </el-row>\r\n            </el-col>\r\n            <el-col :span=\"6\">\r\n              <el-form-item label=\"照片\">\r\n                <image-upload v-model=\"checkInfoData.photo\"></image-upload>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n          <el-form-item label=\"现家庭住址\" label-width=\"10%\">\r\n            <el-input type=\"textarea\" :disabled=\"!disable\" v-model=\"checkInfoData.presentAddress\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"毕业学校或工作单位\" label-width=\"10%\">\r\n            <el-input type=\"textarea\" :disabled=\"!disable\" v-model=\"checkInfoData.workPlace\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"既往医史\" label-width=\"10%\">\r\n            <el-input type=\"textarea\" :disabled=\"!disable\" v-model=\"checkInfoData.historyCheck\"></el-input>\r\n          </el-form-item>\r\n\r\n          <div v-if=\"showFlag1\">\r\n            <el-alert title=\"五官科检查信息--眼科\"\r\n                      type=\"warning\"\r\n                      :closable=\"false\" style=\"margin-bottom: 10px\"></el-alert>\r\n            <el-row>\r\n              <el-col :span=\"6\">\r\n                <el-form-item label=\"视力-左\" prop=\"leftView\">\r\n                  <el-input :disabled=\"disable\" type=\"number\" v-model=\"checkInfoData.leftView\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"6\">\r\n                <el-form-item label=\"视力-右\" prop=\"rightView\">\r\n                  <el-input :disabled=\"disable\" type=\"number\" v-model=\"checkInfoData.rightView\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"6\">\r\n                <el-form-item label=\"矫正视力-左\" label-width=\"30%\" prop=\"correctLeftView\">\r\n                  <el-input :disabled=\"disable\" type=\"number\" v-model=\"checkInfoData.correctLeftView\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"6\">\r\n                <el-form-item label=\"矫正视力-右\" label-width=\"30%\" prop=\"correctRightView\">\r\n                  <el-input :disabled=\"disable\" type=\"number\" v-model=\"checkInfoData.correctRightView\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n            <el-form-item label=\"其他眼疾\" label-width=\"10%\">\r\n              <el-input :disabled=\"disable\" v-model=\"checkInfoData.otherEyesSick\"></el-input>\r\n            </el-form-item>\r\n            <el-row>\r\n              <el-col :span=\"12\">\r\n                <el-form-item label=\"色觉检查-彩色图案及编码\" label-width=\"30%\">\r\n                  <el-input :disabled=\"disable\" v-model=\"checkInfoData.colorOrCode\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <el-form-item label=\"色觉检查-单色识别\" label-width=\"30%\">\r\n                  <el-input :disabled=\"disable\" v-model=\"checkInfoData.singleColorJudge\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n            <el-form-item label=\"医师签字\" label-width=\"10%\">\r\n              <el-input :disabled=\"disable\" v-model=\"checkInfoData.signForEyes\"></el-input>\r\n            </el-form-item>\r\n\r\n            <el-alert title=\"五官科检查信息--耳喉鼻科\"\r\n                      type=\"warning\"\r\n                      :closable=\"false\" style=\"margin-bottom: 10px\"></el-alert>\r\n            <el-row>\r\n              <el-col :span=\"12\">\r\n                <el-form-item label=\"听力-左\" prop=\"leftAudition\">\r\n                  <el-input :disabled=\"disable\" type=\"number\" v-model=\"checkInfoData.leftAudition\">\r\n                    <template slot=\"append\">公尺</template>\r\n                  </el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <el-form-item label=\"听力-右\" prop=\"rightAudition\">\r\n                  <el-input :disabled=\"disable\" type=\"number\" v-model=\"checkInfoData.rightAudition\">\r\n                    <template slot=\"append\">公尺</template>\r\n                  </el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n            <el-form-item label=\"耳疾\" label-width=\"10%\">\r\n              <el-input :disabled=\"disable\" v-model=\"checkInfoData.earSick\"></el-input>\r\n            </el-form-item>\r\n            <el-row>\r\n              <el-col :span=\"12\">\r\n                <el-form-item label=\"嗅觉\">\r\n                  <el-input :disabled=\"disable\" v-model=\"checkInfoData.smell\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <el-form-item label=\"鼻及鼻窦疾病\">\r\n                  <el-input :disabled=\"disable\" v-model=\"checkInfoData.paranasalSinus\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n            <el-row>\r\n              <el-col :span=\"12\">\r\n                <el-form-item label=\"咽喉\">\r\n                  <el-input :disabled=\"disable\" v-model=\"checkInfoData.throat\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <el-form-item label=\"口吃\">\r\n                  <el-input :disabled=\"disable\" v-model=\"checkInfoData.stammer\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n            <el-form-item label=\"医师签字\" label-width=\"10%\">\r\n              <el-input :disabled=\"disable\" v-model=\"checkInfoData.signForEar\"></el-input>\r\n            </el-form-item>\r\n\r\n\r\n            <el-alert title=\"五官科检查信息--口腔科\"\r\n                      type=\"warning\"\r\n                      :closable=\"false\" style=\"margin-bottom: 10px\"></el-alert>\r\n            <el-row>\r\n              <el-col :span=\"8\">\r\n                <el-form-item label=\"龋  齿\">\r\n                  <el-input :disabled=\"disable\" v-model=\"checkInfoData.toothSick\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"8\">\r\n                <el-form-item label=\"缺  齿\">\r\n                  <el-input :disabled=\"disable\" v-model=\"checkInfoData.hypodontia\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"8\">\r\n                <el-form-item label=\"齿  槽\">\r\n                  <el-input :disabled=\"disable\" v-model=\"checkInfoData.toothPlace\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n            <el-form-item label=\"其他\" label-width=\"10%\">\r\n              <el-input :disabled=\"disable\" v-model=\"checkInfoData.otherSenseSick\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"医师签字\" label-width=\"10%\">\r\n              <el-input :disabled=\"disable\" v-model=\"checkInfoData.signForMouth\"></el-input>\r\n            </el-form-item>\r\n          </div>\r\n\r\n          <div v-if=\"showFlag2\">\r\n            <el-alert title=\"外科检查信息\"\r\n                      type=\"info\"\r\n                      :closable=\"false\" style=\"margin-bottom: 10px\"></el-alert>\r\n            <el-row>\r\n              <el-col :span=\"6\">\r\n                <el-form-item label=\"身长\">\r\n                  <el-input v-model=\"checkInfoData.height\" type=\"number\" :disabled=\"disable\">\r\n                    <template slot=\"append\">公分</template>\r\n                  </el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"6\">\r\n                <el-form-item label=\"体重\">\r\n                  <el-input v-model=\"checkInfoData.weight\" type=\"number\" :disabled=\"disable\">\r\n                    <template slot=\"append\">公斤</template>\r\n                  </el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"6\">\r\n                <el-form-item label=\"腰围\">\r\n                  <el-input v-model=\"checkInfoData.waistline\" type=\"number\" :disabled=\"disable\">\r\n                    <template slot=\"append\">公分</template>\r\n                  </el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"6\">\r\n                <el-form-item label=\"皮肤\">\r\n                  <el-input v-model=\"checkInfoData.skin\" :disabled=\"disable\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n            <el-row>\r\n              <el-col :span=\"8\">\r\n                <el-form-item label=\"淋巴\">\r\n                  <el-input v-model=\"checkInfoData.lymph\" :disabled=\"disable\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"8\">\r\n                <el-form-item label=\"甲状腺\">\r\n                  <el-input v-model=\"checkInfoData.glandulaThyroidea\" :disabled=\"disable\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"8\">\r\n                <el-form-item label=\"脊  柱\">\r\n                  <el-input v-model=\"checkInfoData.spineBackbone\" :disabled=\"disable\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n            <el-row>\r\n              <el-col :span=\"8\">\r\n                <el-form-item label=\"四肢\">\r\n                  <el-input v-model=\"checkInfoData.allLegs\" :disabled=\"disable\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"8\">\r\n                <el-form-item label=\"关  节\">\r\n                  <el-input v-model=\"checkInfoData.arthrosis\" :disabled=\"disable\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"8\">\r\n                <el-form-item label=\"平  足\">\r\n                  <el-input v-model=\"checkInfoData.foot\" :disabled=\"disable\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n            <el-form-item label=\"其他\" label-width=\"10%\">\r\n              <el-input v-model=\"checkInfoData.otherSurgerySick\" :disabled=\"disable\"></el-input>\r\n            </el-form-item>\r\n            <el-row>\r\n              <el-col :span=\"12\">\r\n                <el-form-item label=\"血压\">\r\n                  <el-input :disabled=\"disable\" type=\"number\" v-model=\"checkInfoData.bloodPressure\">\r\n                    <template slot=\"append\">mmHg</template>\r\n                  </el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <el-form-item label=\"脉搏\">\r\n                  <el-input :disabled=\"disable\" type=\"number\" v-model=\"checkInfoData.pulse\">\r\n                    <template slot=\"append\">次/秒</template>\r\n                  </el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n            <el-form-item label=\"医师签字\" label-width=\"10%\">\r\n              <el-input v-model=\"checkInfoData.signForSurgery\" :disabled=\"disable\"></el-input>\r\n            </el-form-item>\r\n          </div>\r\n\r\n          <div v-if=\"showFlag3\">\r\n            <el-alert title=\"内科检查信息\"\r\n                      type=\"info\"\r\n                      :closable=\"false\" style=\"margin-bottom: 10px\"></el-alert>\r\n            <el-form-item label=\"发育营养\" label-width=\"10%\">\r\n              <el-input v-model=\"checkInfoData.growth\" :disabled=\"disable\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"神经及精神\" label-width=\"10%\">\r\n              <el-input v-model=\"checkInfoData.mind\" :disabled=\"disable\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"肺及呼吸道\" label-width=\"10%\">\r\n              <el-input v-model=\"checkInfoData.lung\" :disabled=\"disable\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"心脏及血管\" label-width=\"10%\">\r\n              <el-input v-model=\"checkInfoData.heart\" :disabled=\"disable\"></el-input>\r\n            </el-form-item>\r\n            <el-row>\r\n              <el-col :span=\"12\">\r\n                <el-form-item label=\"腹部器官-肝\" label-width=\"20%\">\r\n                  <el-input v-model=\"checkInfoData.liver\" :disabled=\"disable\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <el-form-item label=\"腹部器官-脾\" label-width=\"20%\">\r\n                  <el-input v-model=\"checkInfoData.spleen\" :disabled=\"disable\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n            <el-form-item label=\"其他\" label-width=\"10%\">\r\n              <el-input v-model=\"checkInfoData.otherInternalSick\" :disabled=\"disable\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"医师签字\" label-width=\"10%\">\r\n              <el-input v-model=\"checkInfoData.signForInternal\" :disabled=\"disable\"></el-input>\r\n            </el-form-item>\r\n          </div>\r\n\r\n          <div v-if=\"showFlag4\">\r\n            <el-alert title=\"化验检查信息\"\r\n                      type=\"success\"\r\n                      :closable=\"false\" style=\"margin-bottom: 10px\"></el-alert>\r\n            <el-form-item label=\"化验检查\" label-width=\"10%\">\r\n              <el-input type=\"textarea\" v-model=\"checkInfoData.assayCheck\" :disabled=\"disable\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"化验员签字\" label-width=\"10%\">\r\n              <el-input v-model=\"checkInfoData.signForAssay\" :disabled=\"disable\"></el-input>\r\n            </el-form-item>\r\n\r\n            <el-alert title=\"化验胸部放射检查信息\"\r\n                      type=\"success\"\r\n                      :closable=\"false\" style=\"margin-bottom: 10px\"></el-alert>\r\n            <el-form-item label=\"化验胸部放射检查\" label-width=\"10%\">\r\n              <el-input type=\"textarea\" v-model=\"checkInfoData.chestCheck\" :disabled=\"disable\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"医师签字\" label-width=\"10%\">\r\n              <el-input v-model=\"checkInfoData.signForChest\" :disabled=\"disable\"></el-input>\r\n            </el-form-item>\r\n\r\n            <el-alert title=\"其他检查信息\"\r\n                      type=\"success\"\r\n                      :closable=\"false\" style=\"margin-bottom: 10px\"></el-alert>\r\n            <el-form-item label=\"其他检查\" label-width=\"10%\">\r\n              <el-input type=\"textarea\" v-model=\"checkInfoData.otherCheck\" :disabled=\"disable\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"检查结论\" label-width=\"10%\">\r\n              <el-input type=\"textarea\" v-model=\"checkInfoData.checkResult\" :disabled=\"disable\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"负责医师签字\" label-width=\"10%\">\r\n              <el-input v-model=\"checkInfoData.signForResult\" :disabled=\"disable\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"检查医院意见\" label-width=\"10%\">\r\n              <el-input v-model=\"checkInfoData.suggestForCheck\" :disabled=\"disable\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"盖章\" label-width=\"10%\">\r\n              <el-input v-model=\"checkInfoData.sealer\" :disabled=\"disable\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"备注\" label-width=\"10%\">\r\n              <el-input type=\"textarea\" v-model=\"checkInfoData.remark\" :disabled=\"disable\"></el-input>\r\n            </el-form-item>\r\n\r\n          </div>\r\n\r\n\r\n          <template>\r\n            <el-form-item align=\"right\" v-show=\"!disable\">\r\n              <el-button type=\"success\" @click=\"disable=false\">编辑</el-button>\r\n              <el-button :disabled=\"disable\" type=\"primary\" @click=\"saveData(checkInfoData)\">保存</el-button>\r\n              <el-button @click=\"handleClose\">取消</el-button>\r\n            </el-form-item>\r\n          </template>\r\n        </el-form>\r\n      </div>\r\n\r\n    </el-dialog>\r\n    <el-dialog title=\"查看学生健康档案\"\r\n               width=\"80%\"\r\n               :modal=\"false\"\r\n               :before-close=\"handleClose\"\r\n               :visible.sync=\"dialogShowVisible\">\r\n      <health-table :health-data=\"checkInfoData\" :is-msg=\"true\" :disabled=\"disable\"\r\n                    @save-suggestion=\"saveSuggestion\"></health-table>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Message from '../../components/messages/index.js'\r\n  import HealthTable from './HeallthTable'\r\n  import ImageUpload from '../../components/upload/UploadBase64'\r\n\r\n  export default {\r\n    name: \"index\",\r\n    data() {\r\n      /*const validateString = (rule, value, callback) => {\r\n        value = value.split(\" \").join(\"\");\r\n        if (value === '') {\r\n          callback(new Error('请输入有效值'));\r\n        } else {\r\n          callback();\r\n        }\r\n      };*/\r\n      return {\r\n        showFlag1: false,\r\n        showFlag2: false,\r\n        showFlag3: false,\r\n        showFlag4: false,\r\n        dialogShowVisible: false,\r\n        dialogVisible: false,\r\n        tableData: [],\r\n        searchData: {\r\n          pageSize: 10,\r\n          pageNum: 1,\r\n          total: 0,\r\n          clauses: [{\r\n            column: \"college\",\r\n            operation: \"like\",\r\n            value: \"\"\r\n          }, {\r\n            column: \"major\",\r\n            operation: \"like\",\r\n            value: \"\"\r\n          }, {\r\n            column: \"name\",\r\n            operation: \"like\",\r\n            value: \"\"\r\n          }, {\r\n            column: \"checkYear\",\r\n            operation: \"like\",\r\n            value: \"\"\r\n          },]\r\n        },\r\n        checkInfoData: {},\r\n        disable: true,\r\n        title: \"添加用户\",\r\n        userOptions: [],\r\n        /*rules: {\r\n          checkTime: [\r\n            {required: true, message: '请选择体检日期', trigger: 'blur'}\r\n          ],\r\n          checkYear: [\r\n            {required: true, message: '请选择学年', trigger: 'blur'}\r\n          ],\r\n          userId: [\r\n            {required: true, message: '请选择学生', trigger: 'blur'}\r\n          ],\r\n          college: [\r\n            {required: true, message: '请输入学院', trigger: 'blur'}\r\n          ],\r\n          major: [\r\n            {required: true, message: '请输入专业', trigger: 'blur'}\r\n          ],\r\n          grade: [\r\n            {required: true, message: '请输入班级', trigger: 'blur'}\r\n          ],\r\n          stuNo: [\r\n            {required: true, message: '请输入学号', trigger: 'blur'}\r\n          ],\r\n          name: [\r\n            {required: true, message: '请输入姓名', trigger: 'blur'}\r\n          ],\r\n\r\n        },*/\r\n        checkDataOptions: [\r\n          {label: \"第一学年\"}, {label: \"第二学年\"}, {label: \"第三学年\"}, {label: \"第四学年\"}\r\n        ],\r\n      }\r\n    },\r\n    components: {HealthTable, ImageUpload},\r\n    methods: {\r\n      handleClose() {\r\n        this.dialogVisible = false;\r\n        this.dialogShowVisible = false;\r\n      },\r\n      initData() {\r\n        this.$http.post(\"/checkInfo/page\", this.searchData).then(res => {\r\n          if (res.status === 200) {\r\n            this.tableData = res.data.list;\r\n            this.searchData.total = res.data.total;\r\n          }\r\n        });\r\n        let roleData = JSON.parse(localStorage.getItem(\"role\"));\r\n        if (roleData.roleName === '五官科医生') {\r\n          this.showFlag1 = true;\r\n          this.showFlag2 = false;\r\n          this.showFlag3 = false;\r\n          this.showFlag4 = false;\r\n        } else if (roleData.roleName === '外科医生') {\r\n          this.showFlag1 = false;\r\n          this.showFlag2 = true;\r\n          this.showFlag3 = false;\r\n          this.showFlag4 = false;\r\n        } else if (roleData.roleName === '内科医生') {\r\n          this.showFlag1 = false;\r\n          this.showFlag2 = false;\r\n          this.showFlag3 = true;\r\n          this.showFlag4 = false;\r\n        } else if (roleData.roleName === '负责医师') {\r\n          this.showFlag1 = false;\r\n          this.showFlag2 = false;\r\n          this.showFlag3 = false;\r\n          this.showFlag4 = true;\r\n        } else {\r\n          this.showFlag1 = true;\r\n          this.showFlag2 = true;\r\n          this.showFlag3 = true;\r\n          this.showFlag4 = true;\r\n        }\r\n      },\r\n      handleSizeChange(val) {\r\n        this.searchData.pageSize = val;\r\n        this.initData();\r\n      },\r\n      handleCurrentChange(val) {\r\n        this.searchData.pageNum = val;\r\n        this.initData();\r\n      },\r\n      addUser() {\r\n        this.title = \"添加健康档案\";\r\n        this.checkInfoData = {};\r\n        this.dialogVisible = true;\r\n        this.disable = false;\r\n      },\r\n      showRow(index, data) {\r\n        this.disable = true;\r\n        this.$http.get(\"/checkInfo/get/\" + data[index].id).then(res => {\r\n          if (res.status === 200) {\r\n            this.checkInfoData = res.data;\r\n            this.dialogShowVisible = true;\r\n          }\r\n        })\r\n      },\r\n      updateRow(index, data) {\r\n        this.title = \"编辑健康档案\";\r\n        this.disable = false;\r\n        this.$http.get(\"/checkInfo/get/\" + data[index].id).then(res => {\r\n          if (res.status === 200) {\r\n            this.checkInfoData = res.data;\r\n            this.dialogVisible = true;\r\n          }\r\n        })\r\n      },\r\n      deleteRow(index, data) {\r\n        Message.confirm(\"是否删除该档案?\").then(() => {\r\n          this.$http.get(\"/checkInfo/delete/\" + data[index].id).then(res => {\r\n            if (res.status === 200) {\r\n              Message.success(\"操作成功\");\r\n              this.initData();\r\n            }\r\n          })\r\n        })\r\n      },\r\n      saveData() {\r\n        if (this.checkInfoData.id == null || this.checkInfoData.id === \"\") {\r\n          this.$http.post(\"/checkInfo/add\", this.checkInfoData).then(res => {\r\n            if (res.status === 200) {\r\n              Message.success(\"操作成功\");\r\n              this.initData();\r\n            }\r\n          })\r\n        } else {\r\n          this.$http.post(\"/checkInfo/update\", this.checkInfoData).then(res => {\r\n            if (res.status === 200) {\r\n              Message.success(\"操作成功\");\r\n              this.initData();\r\n            }\r\n          })\r\n        }\r\n        this.dialogVisible = false;\r\n      },\r\n      getAllUser() {\r\n        this.$http.get(\"/user/getAllStudent/2\").then(res => {\r\n          if (res.status === 200) {\r\n            this.userOptions = res.data;\r\n          }\r\n        })\r\n      },\r\n      selectUser() {\r\n        let data = this.userOptions.filter((value) => {\r\n          return value.id === this.checkInfoData.userId;\r\n        });\r\n        this.checkInfoData = JSON.parse(JSON.stringify(data));\r\n        this.checkInfoData.historyCheck = \"\";\r\n        // this.checkInfoData.college = data[0].college;\r\n        // this.checkInfoData.major = data[0].major;\r\n        // this.checkInfoData.grade = data[0].grade;\r\n        // this.checkInfoData.stuNo = data[0].stuNo;\r\n        // this.checkInfoData.name = data[0].name;\r\n        // this.checkInfoData.sex = data[0].sex;\r\n        // this.checkInfoData.birth = data[0].birth;\r\n        // this.checkInfoData.realAge = data[0].realAge;\r\n        // this.checkInfoData.cultureLevel = data[0].cultureLevel;\r\n        // this.checkInfoData.nation = data[0].nation;\r\n        // this.checkInfoData.occupation = data[0].occupation;\r\n        // this.checkInfoData.nativePlace = data[0].nativePlace;\r\n        // this.checkInfoData.presentAddress = data[0].presentAddress;\r\n        // this.checkInfoData.workPlace = data[0].workPlace;\r\n        // this.checkInfoData.teacherId = data[0].teacherId;\r\n        // this.checkInfoData.photo = data[0].photo;\r\n      },\r\n      judgeCheckIsExist() {\r\n        if (this.checkInfoData.userId === \"\" || this.checkInfoData.userId == null) {\r\n          this.$message.warning(\"请选择需要添加的学生\")\r\n        } else if (this.checkInfoData.checkYear === \"\" || this.checkInfoData.checkYear == null) {\r\n          this.$message.warning(\"请选择需要学年\")\r\n        } else {\r\n          this.$http.get(\"/checkInfo/judgeCheckIsExist\", {\r\n            params: {\r\n              \"userId\": this.checkInfoData.userId,\r\n              \"checkYear\": this.checkInfoData.checkYear\r\n            }\r\n          }).then(res => {\r\n            if (res.status === 200) {\r\n              if (res.data === false) {\r\n                this.$message.error(\"该学生此学年体检单已存在，请重新选择学年!\")\r\n              }\r\n            }\r\n          })\r\n        }\r\n      },\r\n      saveSuggestion(data) {\r\n        console.log(\"将康建议\", data);\r\n        this.$http.post(\"/suggestion/add\", data).then(res => {\r\n          if (res.status === 200) {\r\n            this.$message.success(\"留言成功\");\r\n            this.dialogShowVisible = false;\r\n          }\r\n        })\r\n      }\r\n    },\r\n    mounted() {\r\n      this.initData();\r\n      this.getAllUser();\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .avatar-uploader .el-upload {\r\n    border: 1px dashed #d9d9d9;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .avatar-uploader .el-upload:hover {\r\n    border-color: #409EFF;\r\n  }\r\n\r\n  .avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 178px;\r\n    height: 241px;\r\n    line-height: 241px;\r\n    text-align: center;\r\n    border: 1px solid #8c939d;\r\n  }\r\n\r\n  .avatar {\r\n    width: 178px;\r\n    height: 241px;;\r\n    display: block;\r\n  }\r\n\r\n  .el-date-editor.el-input, .el-date-editor.el-input__inner {\r\n    width: 270px;\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/views/health"}]}