{"remainingRequest":"D:\\idea_workspace\\healthy-manager-front\\node_modules\\babel-loader\\lib\\index.js!D:\\idea_workspace\\healthy-manager-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\idea_workspace\\healthy-manager-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\idea_workspace\\healthy-manager-front\\src\\views\\knowledge\\Read.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\idea_workspace\\healthy-manager-front\\src\\views\\knowledge\\Read.vue","mtime":1618388461458},{"path":"D:\\idea_workspace\\healthy-manager-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616656130250},{"path":"D:\\idea_workspace\\healthy-manager-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1616656090222},{"path":"D:\\idea_workspace\\healthy-manager-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616656130250},{"path":"D:\\idea_workspace\\healthy-manager-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1616656132299},{"path":"D:\\idea_workspace\\healthy-manager-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616656130250},{"path":"D:\\idea_workspace\\healthy-manager-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1616656090222},{"path":"D:\\idea_workspace\\healthy-manager-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1616656130250},{"path":"D:\\idea_workspace\\healthy-manager-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1616656132299}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport BookRead from './BookRead';\nimport Message from '../../components/messages/index.js';\nexport default {\n  name: \"Index\",\n  data: function data() {\n    return {\n      title: \"添加健康知识\",\n      dialogVisible: false,\n      bookVisible: false,\n      bookData: {\n        publishData: \"\",\n        author: \"\",\n        book: \"\",\n        visitNum: 0,\n        description: \"\",\n        content: \"\",\n        isPublished: 1\n      },\n      tableData: [],\n      searchData: {\n        pageSize: 10,\n        pageNum: 1,\n        clauses: [{\n          column: \"isPublished\",\n          operation: \"=\",\n          value: 1\n        }, {\n          column: \"author\",\n          operation: \"like\",\n          value: \"\"\n        }, {\n          column: \"book\",\n          operation: \"like\",\n          value: \"\"\n        }, {\n          column: \"content\",\n          operation: \"like\",\n          value: \"\"\n        }]\n      },\n      total: 0,\n      documentType: \"已发布\"\n    };\n  },\n  methods: {\n    handleClose: function handleClose() {\n      this.dialogVisible = false;\n      this.bookData = {};\n    },\n    handleBookClose: function handleBookClose() {\n      this.bookVisible = false;\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.searchData.pageNum = val;\n      this.initData();\n    },\n    initData: function initData() {\n      var _this = this;\n\n      this.$http.post(\"/healthDocument/page\", this.searchData).then(function (res) {\n        if (res.status === 200) {\n          _this.tableData = res.data.list;\n          _this.total = res.data.pages;\n        }\n      });\n    },\n    //打开添加文章弹窗\n    addBook: function addBook() {\n      this.title = \"添加健康知识\";\n      this.dialogVisible = true;\n      this.bookData = {};\n    },\n    editBook: function editBook(index, data) {\n      var _this2 = this;\n\n      this.title = \"修改健康知识\";\n      this.$http.get(\"/healthDocument/get/\" + data[index].id).then(function (res) {\n        if (res.status === 200) {\n          _this2.bookData = res.data;\n        }\n      });\n      this.dialogVisible = true;\n    },\n    //提交添加的文章\n    submitData: function submitData(data, type) {\n      var _this3 = this;\n\n      if (type === 'save') {\n        data.isPublished = 0;\n      } else {\n        data.isPublished = 1;\n      }\n\n      if (data.id == null || data.id === \"\") {\n        this.$http.post(\"/healthDocument/add\", data).then(function (res) {\n          if (res.status === 200) {\n            Message.success(\"操作成功\");\n\n            _this3.initData();\n          }\n        });\n      } else {\n        this.$http.post(\"/healthDocument/update\", data).then(function (res) {\n          if (res.status === 200) {\n            Message.success(\"操作成功\");\n\n            _this3.initData();\n          }\n        });\n      }\n\n      this.dialogVisible = false;\n    },\n    showBook: function showBook(index, data) {\n      this.bookData = data[index];\n      this.bookVisible = true;\n    },\n    deleteRow: function deleteRow(index, data) {\n      var _this4 = this;\n\n      Message.confirm(\"是否需要删除该文章？\").then(function () {\n        _this4.$http.get(\"/healthDocument/delete/\" + data[index].id).then(function (res) {\n          if (res.status === 200) {\n            Message.success(\"操作成功\");\n\n            _this4.initData();\n          }\n        });\n      });\n    }\n  },\n  components: {\n    BookRead: BookRead\n  },\n  mounted: function mounted() {\n    this.initData();\n  },\n  watch: {\n    \"documentType\": function documentType(val) {\n      if (val === '已发布') {\n        this.searchData.clauses[0].value = 1;\n        this.initData();\n      }\n\n      if (val === '草稿箱') {\n        this.searchData.clauses[0].value = 0;\n        this.initData();\n      }\n    }\n  }\n};",{"version":3,"sources":["Read.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div style=\"display: flex;flex-direction: column;align-items: center\">\r\n    <div style=\"margin: 40px 0\"><h1>健康知识阅读</h1></div>\r\n    <el-card style=\"width: 80%\">\r\n      <div style=\"width: 100%;display: flex;flex-direction: row;justify-content: space-around;margin-bottom: 20px\">\r\n        <div>\r\n          <el-input placeholder=\"根据作者筛选\" v-model=\"searchData.clauses[1].value\" @blur=\"initData\">\r\n            <template slot=\"append\">\r\n              <el-button icon=\"el-icon-search\" type=\"info\" @click=\"initData\"></el-button>\r\n            </template>\r\n          </el-input>\r\n        </div>\r\n        <div>\r\n          <el-input placeholder=\"根据书名筛选\" v-model=\"searchData.clauses[2].value\" @blur=\"initData\">\r\n            <template slot=\"append\">\r\n              <el-button icon=\"el-icon-search\" @click=\"initData\"></el-button>\r\n            </template>\r\n          </el-input>\r\n        </div>\r\n        <div>\r\n          <el-input placeholder=\"根据内容筛选\" v-model=\"searchData.clauses[3].value\" @blur=\"initData\">\r\n            <template slot=\"append\">\r\n              <el-button icon=\"el-icon-search\" @click=\"initData\"></el-button>\r\n            </template>\r\n          </el-input>\r\n        </div>\r\n      </div>\r\n      <el-table\r\n              :data=\"tableData\"\r\n              style=\"width: 100%;margin-bottom: 20px\">\r\n        <el-table-column\r\n                type=\"index\"\r\n                width=\"50\">\r\n        </el-table-column>\r\n        <el-table-column\r\n                prop=\"publishData\"\r\n                label=\"创建日期\"\r\n                width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column\r\n                prop=\"book\"\r\n                label=\"书名\"\r\n                width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column\r\n                prop=\"author\"\r\n                align=\"center\"\r\n                label=\"作者\"\r\n                width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column\r\n                prop=\"visitNum\"\r\n                align=\"center\"\r\n                label=\"阅读量\"\r\n                width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column\r\n                prop=\"description\"\r\n                label=\"简介\"\r\n                align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column\r\n                fixed=\"right\"\r\n                align=\"center\"\r\n                label=\"操作\"\r\n                width=\"230\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n                    @click.native.prevent=\"showBook(scope.$index, tableData)\"\r\n                    size=\"small\">\r\n              阅读\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <el-pagination\r\n              background\r\n              layout=\"prev, pager, next\"\r\n              @current-change=\"handleCurrentChange\"\r\n              :page-size=\"this.searchData.pageSize\"\r\n              :total=\"total\">\r\n      </el-pagination>\r\n    </el-card>\r\n    <el-dialog\r\n            :title=\"title\"\r\n            width=\"70%\"\r\n            :modal=\"false\"\r\n            :before-close=\"handleClose\"\r\n            :visible.sync=\"dialogVisible\">\r\n      <el-form :model=\"bookData\" label-width=\"10%\" label-position=\"left\" style=\"padding: 10px 60px\">\r\n        <el-form-item label=\"文章名\">\r\n          <el-input v-model=\"bookData.book\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"作者\">\r\n          <el-input v-model=\"bookData.author\" style=\"width: 200px\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"阅读量\">\r\n          <el-input-number v-model=\"bookData.visitNum\"></el-input-number>\r\n        </el-form-item>\r\n        <el-form-item label=\"简介\">\r\n          <el-input type=\"textarea\" v-model=\"bookData.description\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"正文\" style=\"height: 300px\">\r\n          <quill-editor style=\"height: 200px\" v-model=\"bookData.content\">\r\n          </quill-editor>\r\n        </el-form-item>\r\n        <template>\r\n          <el-form-item>\r\n            <el-button type=\"danger\" @click=\"submitData(bookData,'save')\">保存到草稿箱</el-button>\r\n            <el-button type=\"success\" @click=\"submitData(bookData,'publish')\">发布</el-button>\r\n            <el-button @click=\"handleClose\">取消</el-button>\r\n          </el-form-item>\r\n        </template>\r\n\r\n      </el-form>\r\n    </el-dialog>\r\n    <el-dialog title=\"阅读健康知识\"\r\n               width=\"70%\"\r\n               :modal=\"false\"\r\n               :before-close=\"handleBookClose\"\r\n               :visible.sync=\"bookVisible\">\r\n      <book-read :book-data=\"bookData\"></book-read>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import BookRead from './BookRead'\r\n  import Message from '../../components/messages/index.js'\r\n\r\n  export default {\r\n    name: \"Index\",\r\n    data() {\r\n      return {\r\n        title: \"添加健康知识\",\r\n        dialogVisible: false,\r\n        bookVisible: false,\r\n        bookData: {\r\n          publishData: \"\",\r\n          author: \"\",\r\n          book: \"\",\r\n          visitNum: 0,\r\n          description: \"\",\r\n          content: \"\",\r\n          isPublished: 1\r\n        },\r\n        tableData: [],\r\n        searchData: {\r\n          pageSize: 10,\r\n          pageNum: 1,\r\n          clauses: [{\r\n            column: \"isPublished\",\r\n            operation: \"=\",\r\n            value: 1\r\n          }, {\r\n            column: \"author\",\r\n            operation: \"like\",\r\n            value: \"\"\r\n          }, {\r\n            column: \"book\",\r\n            operation: \"like\",\r\n            value: \"\"\r\n          }, {\r\n            column: \"content\",\r\n            operation: \"like\",\r\n            value: \"\"\r\n          }]\r\n        },\r\n        total: 0,\r\n        documentType: \"已发布\"\r\n      }\r\n    },\r\n    methods: {\r\n      handleClose() {\r\n        this.dialogVisible = false;\r\n        this.bookData = {};\r\n      },\r\n      handleBookClose() {\r\n        this.bookVisible = false;\r\n      },\r\n      handleCurrentChange(val) {\r\n        this.searchData.pageNum = val;\r\n        this.initData();\r\n      },\r\n      initData() {\r\n        this.$http.post(\"/healthDocument/page\", this.searchData).then(res => {\r\n          if (res.status === 200) {\r\n            this.tableData = res.data.list;\r\n            this.total = res.data.pages;\r\n          }\r\n        })\r\n      },\r\n      //打开添加文章弹窗\r\n      addBook() {\r\n        this.title = \"添加健康知识\";\r\n        this.dialogVisible = true;\r\n        this.bookData = {};\r\n\r\n      },\r\n      editBook(index, data) {\r\n        this.title = \"修改健康知识\";\r\n        this.$http.get(\"/healthDocument/get/\" + data[index].id).then(res => {\r\n          if (res.status === 200) {\r\n            this.bookData = res.data;\r\n          }\r\n        });\r\n        this.dialogVisible = true;\r\n\r\n      },\r\n      //提交添加的文章\r\n      submitData(data, type) {\r\n        if (type === 'save') {\r\n          data.isPublished = 0;\r\n        } else {\r\n          data.isPublished = 1;\r\n        }\r\n        if (data.id == null || data.id === \"\") {\r\n          this.$http.post(\"/healthDocument/add\", data).then(res => {\r\n            if (res.status === 200) {\r\n              Message.success(\"操作成功\");\r\n              this.initData();\r\n            }\r\n          })\r\n        } else {\r\n          this.$http.post(\"/healthDocument/update\", data).then(res => {\r\n            if (res.status === 200) {\r\n              Message.success(\"操作成功\");\r\n              this.initData();\r\n            }\r\n          })\r\n        }\r\n        this.dialogVisible = false;\r\n      },\r\n      showBook(index, data) {\r\n        this.bookData = data[index];\r\n        this.bookVisible = true;\r\n      },\r\n      deleteRow(index, data) {\r\n        Message.confirm(\"是否需要删除该文章？\").then(() => {\r\n          this.$http.get(\"/healthDocument/delete/\" + data[index].id).then(res => {\r\n            if (res.status === 200) {\r\n              Message.success(\"操作成功\");\r\n              this.initData();\r\n            }\r\n          })\r\n        })\r\n      }\r\n    },\r\n    components: {\r\n      BookRead\r\n    },\r\n    mounted() {\r\n      this.initData()\r\n    },\r\n    watch: {\r\n      \"documentType\": function (val) {\r\n        if (val === '已发布') {\r\n          this.searchData.clauses[0].value = 1;\r\n          this.initData();\r\n        }\r\n        if (val === '草稿箱') {\r\n          this.searchData.clauses[0].value = 0;\r\n          this.initData();\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n"],"sourceRoot":"src/views/knowledge"}]}